<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.metamong.mt.domain.reservation.repository.mybatis.ReservationMapper">

    <!-- 시설 이용자의 예약 목록 조회 -->
 	<select id="findReservationByConsId" parameterType="int" resultType="com.metamong.mt.domain.reservation.dto.response.ReservationResponseDto">
		<![CDATA[
			SELECT f.fct_name AS "fctName", r.rvt_id AS "rvtId", r.rvt_date AS "rvtDate", z.zone_name AS "zoneName",
			TO_CHAR(r.usage_start_time, 'HH24:MI') AS "usageStartTime", TO_CHAR(r.usage_end_time, 'HH24:MI') AS "usageEndTime"
			FROM reservation r, facility f, zone z
			WHERE r.zone_id = z.zone_id AND f.fct_id = z.fct_id
			AND r.cons_id = #{consId}
		]]>
	</select>

   

</mapper>
